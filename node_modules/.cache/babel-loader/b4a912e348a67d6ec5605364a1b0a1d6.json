{"ast":null,"code":"import _regeneratorRuntime from \"/Users/vivekpanchal/Shopping-Website/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/Users/vivekpanchal/Shopping-Website/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nvar config = {\n  apiKey: \"AIzaSyCMENCyyNWZ8KTxwjnNSQzHKCUOmiJnRvI\",\n  authDomain: \"clothing-web.firebaseapp.com\",\n  databaseURL: \"https://clothing-web.firebaseio.com\",\n  projectId: \"clothing-web\",\n  storageBucket: \"clothing-web.appspot.com\",\n  messagingSenderId: \"919551373200\",\n  appId: \"1:919551373200:web:70d523957e604ca10e0d15\",\n  measurementId: \"G-2Q6Q96D3BS\"\n};\nexport var createUserProfileDocument = function createUserProfileDocument(userAuth, additionalData) {\n  var userRef, snapShot, displayName, email, createdAt;\n  return _regeneratorRuntime.async(function createUserProfileDocument$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          if (userAuth) {\n            _context.next = 2;\n            break;\n          }\n\n          return _context.abrupt(\"return\");\n\n        case 2:\n          userRef = firestore.doc(\"users/\".concat(userAuth.uid));\n          _context.next = 5;\n          return _regeneratorRuntime.awrap(userRef.get());\n\n        case 5:\n          snapShot = _context.sent;\n\n          if (snapShot.exists) {\n            _context.next = 17;\n            break;\n          }\n\n          displayName = userAuth.displayName, email = userAuth.email;\n          createdAt = new Date();\n          _context.prev = 9;\n          _context.next = 12;\n          return _regeneratorRuntime.awrap(userRef.set(_objectSpread({\n            displayName: displayName,\n            email: email,\n            createdAt: createdAt\n          }, additionalData)));\n\n        case 12:\n          _context.next = 17;\n          break;\n\n        case 14:\n          _context.prev = 14;\n          _context.t0 = _context[\"catch\"](9);\n          console.log('error creating user', _context.t0.message);\n\n        case 17:\n          return _context.abrupt(\"return\", userRef);\n\n        case 18:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[9, 14]]);\n};\nfirebase.initializeApp(config);\nexport var auth = firebase.auth();\nexport var firestore = firebase.firestore();\nvar provider = new firebase.auth.GoogleAuthProvider();\nprovider.setCustomParameters({\n  prompt: 'select_account'\n});\nexport var signInWithGoogle = function signInWithGoogle() {\n  return auth.signInWithPopup(provider);\n};\nexport default firebase;","map":{"version":3,"sources":["/Users/vivekpanchal/Shopping-Website/src/firebase/firebase.utils.js"],"names":["firebase","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","createUserProfileDocument","userAuth","additionalData","userRef","firestore","doc","uid","get","snapShot","exists","displayName","email","createdAt","Date","set","console","log","message","initializeApp","auth","provider","GoogleAuthProvider","setCustomParameters","prompt","signInWithGoogle","signInWithPopup"],"mappings":";;AAAA,OAAOA,QAAP,MAAqB,cAArB;AAEA,OAAO,oBAAP;AACA,OAAO,eAAP;AACA,IAAMC,MAAM,GAAG;AACXC,EAAAA,MAAM,EAAE,yCADG;AAEXC,EAAAA,UAAU,EAAE,8BAFD;AAGXC,EAAAA,WAAW,EAAE,qCAHF;AAIXC,EAAAA,SAAS,EAAE,cAJA;AAKXC,EAAAA,aAAa,EAAE,0BALJ;AAMXC,EAAAA,iBAAiB,EAAE,cANR;AAOXC,EAAAA,KAAK,EAAE,2CAPI;AAQXC,EAAAA,aAAa,EAAE;AARJ,CAAf;AAUE,OAAO,IAAMC,yBAAyB,GAAG,SAA5BA,yBAA4B,CAAMC,QAAN,EAAeC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cACnCD,QADmC;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAEjCE,UAAAA,OAFiC,GAEvBC,SAAS,CAACC,GAAV,iBAAuBJ,QAAQ,CAACK,GAAhC,EAFuB;AAAA;AAAA,2CAGhBH,OAAO,CAACI,GAAR,EAHgB;;AAAA;AAGjCC,UAAAA,QAHiC;;AAAA,cAInCA,QAAQ,CAACC,MAJ0B;AAAA;AAAA;AAAA;;AAK/BC,UAAAA,WAL+B,GAKXT,QALW,CAK/BS,WAL+B,EAKnBC,KALmB,GAKXV,QALW,CAKnBU,KALmB;AAM/BC,UAAAA,SAN+B,GAMnB,IAAIC,IAAJ,EANmB;AAAA;AAAA;AAAA,2CAQ7BV,OAAO,CAACW,GAAR;AACJJ,YAAAA,WAAW,EAAXA,WADI;AAEJC,YAAAA,KAAK,EAALA,KAFI;AAGJC,YAAAA,SAAS,EAATA;AAHI,aAIDV,cAJC,EAR6B;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAenCa,UAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAkC,YAAMC,OAAxC;;AAfmC;AAAA,2CAkBhCd,OAlBgC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAlC;AAqBTb,QAAQ,CAAC4B,aAAT,CAAuB3B,MAAvB;AACA,OAAO,IAAM4B,IAAI,GAAG7B,QAAQ,CAAC6B,IAAT,EAAb;AACP,OAAO,IAAMf,SAAS,GAAGd,QAAQ,CAACc,SAAT,EAAlB;AACP,IAAMgB,QAAQ,GAAG,IAAI9B,QAAQ,CAAC6B,IAAT,CAAcE,kBAAlB,EAAjB;AACAD,QAAQ,CAACE,mBAAT,CAA6B;AAACC,EAAAA,MAAM,EAAC;AAAR,CAA7B;AACA,OAAO,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB;AAAA,SAAIL,IAAI,CAACM,eAAL,CAAqBL,QAArB,CAAJ;AAAA,CAAzB;AACP,eAAe9B,QAAf","sourcesContent":["import firebase from 'firebase/app';\n\nimport 'firebase/firestore';\nimport 'firebase/auth';\nconst config = {\n    apiKey: \"AIzaSyCMENCyyNWZ8KTxwjnNSQzHKCUOmiJnRvI\",\n    authDomain: \"clothing-web.firebaseapp.com\",\n    databaseURL: \"https://clothing-web.firebaseio.com\",\n    projectId: \"clothing-web\",\n    storageBucket: \"clothing-web.appspot.com\",\n    messagingSenderId: \"919551373200\",\n    appId: \"1:919551373200:web:70d523957e604ca10e0d15\",\n    measurementId: \"G-2Q6Q96D3BS\"\n  };\n  export const createUserProfileDocument = async(userAuth,additionalData)=>{\n    if(!userAuth)return;\n    const userRef = firestore.doc(`users/${userAuth.uid}`);\n    const snapShot = await userRef.get();\n    if(!snapShot.exists){\n      const{displayName,email}= userAuth;\n      const createdAt = new Date();\n      try{\n        await userRef.set({\n          displayName,\n          email,\n          createdAt,\n          ...additionalData\n        })\n      }catch(error){\n        console.log('error creating user',error.message);\n      }\n    }\n    return userRef;\n  };\n  \nfirebase.initializeApp(config);\nexport const auth = firebase.auth();\nexport const firestore = firebase.firestore();\nconst provider = new firebase.auth.GoogleAuthProvider();\nprovider.setCustomParameters({prompt:'select_account'});\nexport const signInWithGoogle = ()=>auth.signInWithPopup(provider);\nexport default firebase;"]},"metadata":{},"sourceType":"module"}